<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs
        title="Blog Calendar"
        title_url="http://epicmedia-gadgets.googlecode.com/svn/trunk/blog-calendar/"
        directory_title="Blog Calendar"
        description="Displays a calendar of the current month, with blog-post days as clickable links"
        screenshot="http://epicmedia-gadgets.googlecode.com/svn/trunk/blog-calendar/screenshot.png"
        thumbnail="http://epicmedia-gadgets.googlecode.com/svn/trunk/blog-calendar/thumbnail.png"
        author="Scott J. Walter"
        author_location="Minneapolis, MN"
        author_email="sjwalter+GoogleGadget@gmail.com"
        author_affiliation="EpicMedia"
        author_photo="http://epicmedia-gadgets.googlecode.com/svn/trunk/photo.png"
        author_link="http://code.google.com/p/epicmedia-gadgets/wiki/BlogCalendar"
        >
        <Require feature="dynamic-height" />
        <Require feature="setprefs" />
    </ModulePrefs>
    <UserPref name="blog_feed"	display_name="Feed URL"     required="true" />
    <Content type="html"><![CDATA[
		<style type="text/css">
        	#content__MODULE_ID__ {
        		font-family: arial, sans-serif;
                font-size: 12pt;
        		padding: 0px;
        		margin: 5px 0 0 0;
        	}

			.main {
				width:200px;
				border:1px solid black;
			}

			.month {
				background-color:black;
				font:bold 12px verdana;
				color:white;
			}

			.daysofweek {
				background-color:gray;
				font:bold 12px verdana;
				color:white;
			}

			.days {
				font-size: 12px;
				font-family:verdana;
				color:black;
				background-color: lightyellow;
				padding: 2px;
			}

			.days #today{
				font-weight: bold;
				color: red;
			}
        </style>
        <div id="content__MODULE_ID__"><p style='text-align:center;color:#cccccc;'><i>Processing...</i></p></div>
        <script type="text/javascript">
            var prefs__MODULE_ID__      = new _IG_Prefs(__MODULE_ID__);

            _IG_FetchXmlContent(prefs__MODULE_ID__.getString("blog_feed")
                            ,   function(feed) {
                                    if (feed == null){
                                        _gel("content__MODULE_ID__").innerHTML = "<p style='text-align:center;color:#999999;'><i>There is no data.</i></p>";
                                        return;
                                    }

                                    var html = "";

                                    _gel("content__MODULE_ID__").innerHTML  =   feed.xml;

                                    _IG_AdjustIFrameHeight();
                                }
                            );
            }
        </script>
    ]]></Content>
</Module>
